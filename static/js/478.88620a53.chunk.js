"use strict";(self.webpackChunkxen_ui=self.webpackChunkxen_ui||[]).push([[478],{1478:function(e,n,t){t.r(n),t.d(n,{HomeView:function(){return q},default:function(){return v}});var r=t(3032),s=t(3430),a=t(4322),u=t.n(a),i=t(7313),c=t(1114),o=t(9371),m=t(551),p=t(5512),l=t(56),d=t(7998),g=t(1407);var f=t(6417),y={account_number:"7",chain_id:"ethermint_9000-1",fee:{amount:[{amount:"20000000",denom:"aphoton"}],feePayer:"cosmos1ru6e3fepet5qa5hnp73a8zu0kzggv80pek7cuw",gas:"200000"},memo:"",msgs:[{type:"cosmos-sdk/MsgSend",value:{amount:[{amount:"1",denom:"aphoton"}],from_address:"cosmos1ru6e3fepet5qa5hnp73a8zu0kzggv80pek7cuw",to_address:"cosmos1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqnrql8a"}}],sequence:"1"},q=function(){var e=function(){var e=(0,g.aM)(),n=(0,d.K)().account,t=(0,l.useQueryClient)();return(0,l.useQuery)(["queryXEN",{account:n}],(0,r.Z)(u().mark((function s(){var a;return u().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return(0,c.Kc)(e),(0,c.Kc)(n),s.next=5,e.getXENInfo(n);case 5:return a=s.sent,s.abrupt("return",{XENInfo:a,claimRank:function(){var n=(0,r.Z)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.claimRank(r).then((function(e){return t.invalidateQueries("queryXEN"),e})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),signMessage:function(){var n=(0,r.Z)(u().mark((function n(t){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.signMessage(t).then((function(e){return e})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});case 8:case"end":return s.stop()}}),s)}))),{enabled:!!e&&!!n})}(),n=e.data,t=(0,i.useState)(JSON.stringify(y,null,2)),a=(0,s.Z)(t,2),q=a[0],v=a[1],h=(0,i.useState)(""),x=(0,s.Z)(h,2),N=x[0],k=x[1],w=(0,l.useMutation)((0,r.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.Kc)(n),t={types:{Coin:[{name:"denom",type:"string"},{name:"amount",type:"string"}],EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"string"},{name:"salt",type:"string"}],Fee:[{name:"feePayer",type:"string"},{name:"amount",type:"Coin[]"},{name:"gas",type:"string"}],Msg:[{name:"type",type:"string"},{name:"value",type:"MsgValue"}],MsgValue:[{name:"from_address",type:"string"},{name:"to_address",type:"string"},{name:"amount",type:"TypeAmount[]"}],Tx:[{name:"account_number",type:"string"},{name:"chain_id",type:"string"},{name:"fee",type:"Fee"},{name:"memo",type:"string"},{name:"msgs",type:"Msg[]"},{name:"sequence",type:"string"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]},primaryType:"Tx",domain:{name:"Cosmos Web3",version:"1.0.0",chainId:"0x2328",verifyingContract:"cosmos",salt:"0"},message:JSON.parse(q)},e.next=4,n.signMessage(JSON.stringify(t));case 4:return r=e.sent,k(r),e.abrupt("return",Promise.resolve(""));case 7:case"end":return e.stop()}}),e)}))),{onSuccess:function(){o.Z.success({message:"success"})},onError:function(e){var n;o.Z.error({message:"sign failed",description:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message})}}),b=w.mutate,j=w.isLoading;return(0,f.jsx)("div",{className:"text-center mx-auto",children:(0,f.jsx)("div",{className:"relative flex items-center justify-center h-screen ",children:(0,f.jsxs)("div",{className:"mt-[15%] z-30 mx-auto w-10/12",children:[(0,f.jsx)("div",{className:"mb-[2rem]",children:(0,f.jsx)(m.Z,{className:"h-[5rem]",value:q,onChange:function(e){return v(JSON.stringify(JSON.parse(e.target.value),null,2))}})}),(0,f.jsx)(m.Z.TextArea,{disabled:!0,className:"w-[50rem] text-xl",size:"large",rows:28,cols:64,maxLength:26,value:q}),(0,f.jsx)(p.Z,{loading:j,className:"mt-[1rem]",onClick:function(){return b()},children:(0,f.jsx)("span",{className:"content",children:"TEST SIGN"})}),(0,f.jsxs)("div",{className:"mt-[2rem] mb-[5rem] text-base",children:[(0,f.jsx)("div",{children:"SIG: "}),(0,f.jsx)("span",{children:N})]})]})})})},v=q}}]);